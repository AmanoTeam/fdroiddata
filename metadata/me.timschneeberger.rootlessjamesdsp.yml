AntiFeatures:
  - UpstreamNonFree
Categories:
  - Multimedia
  - System
License: GPL-3.0-or-later
AuthorName: Tim Schneeberger
SourceCode: https://github.com/ThePBone/RootlessJamesDSP
IssueTracker: https://github.com/ThePBone/RootlessJamesDSP/issues
Donate: https://github.com/sponsors/ThePBone

Summary: System-wide JamesDSP implementation for non-rooted devices
Description: |-
    JamesDSP is a system-wide audio processing engine that doesn't need any root access.
    ADB access via a computer is required for the initial setup.

    JamesDSP supports the following audio effects:
    * Limiter control
    * Output gain control
    * Auto dynamic range compressor
    * Dynamic bass boost
    * Interpolating FIR equalizer
    * Arbitrary response equalizer (Graphic EQ)
    * ViPER-DDC
    * Convolver
    * Live-programmable DSP (scripting engine for audio effects)
    * Analog modelling
    * Soundstage wideness
    * Crossfeed
    * Virtual room effect (reverb)

    Limitations:
    * Apps blocking internal audio capture remain unprocessed (e.g., Spotify, Google Chrome)
    * Apps using some types of HW-accelerated playback may cause issues and need to be manually excluded (e.g., some Unity games)
    * Cannot coexist with (some) other audio effect apps (e.g., Wavelet and other apps that make use of the `DynamicsProcessing` Android API)

    Additionally, this app integrates directly with AutoEQ. Using AutoEQ integration, you
    can search and import frequency responses that aim to correct your headphone to a neutral sound.
    Go to 'Arbitrary response equalizer > Magnitude response > AutoEQ profiles' to get started.

RepoType: git
Repo: https://github.com/ThePBone/RootlessJamesDSP

Builds:
  - versionName: 1.1.1
    versionCode: 17
    commit: v1.1.1
    subdir: app
    submodules: true
    patch:
      - remove_crashlytics.patch
    gradle:
      - yes
    output: build/outputs/apk/rootless/release/JamesDSP-v$$VERSION$$-rootless-universal-release-unsigned.apk
    prebuild: sed -i 's/maven\ {\ url\ =\ java\.net\.URI("https\:\/\/jitpack\.io")\
        }/maven("https:\/\/jitpack.io")/' ../build.gradle.kts
    scandelete:
      - app/src/main/cpp/libjamesdsp
    ndk: r23c

MaintainerNotes: |-
    Scanner complains about app/src/main/cpp/libjamesdsp/Main/DSPManager/libs/android-support-v13.jar,
    however it's needed to build DSPManager for libjamesdsp, not libjamesdsp itself, so it's safe to
    remove it, RootlessJamesDSP doesn't need DSPManager from libjamesdsp.

    Scanner complains about unrecognized maven repo (regex matches the wrong thing), however this repo is
    allowed in f-droid:
    https://gitlab.com/fdroid/fdroidserver/-/blob/master/fdroidserver/scanner.py#L439,
    Adapted the repo line to proper kotlin DSL syntax.

    AUM is disabled since the massive patch is very likely to fail in newer versions and needs to be adapted
    manually.

AutoUpdateMode: None
UpdateCheckMode: Tags
UpdateCheckData: buildSrc/src/main/kotlin/AndroidConfig.kt|versionCode\s=\s(\d+)|.|versionName\s=\s"(.*)"
CurrentVersion: 1.1.1
CurrentVersionCode: 17
